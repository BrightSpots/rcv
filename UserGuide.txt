# Universal Tabulator User Guide

## Overview:

The Universal Tabulator is a free open source application designed to quickly and accurately tabulate ranked choice voting elections using a variety of rules commonly in use in North America.

The Tabulator requires as input a "contest configuration" file which specifies:
- Tabulation rule variations to use
- List of registered candidates 
- One or more cast vote record files
- Output formatting options (contest name, where to write output files, etc.)

The Tabulator produces as output:
- A results spreadsheet including round-by-round vote totals for each candidate and the eventual winner(s)
- An audit report describing how every ballot was counted in each round over the course of the tabulation

The Tabulator provides an interface for:
- Creating contest configuration files
- Validating contest configuration files to ensure they are well-formed, and all values are within expected ranges
- Tabulating a contest with a contest configuration file 

## Launching the Tabulator:

You must have Java JDK 11 or higher installed on your system: https://jdk.java.net/
Once you've built the binary using Gradle or downloaded a pre-built version, run the bin/rcv script if using MacOS or Linux, or bin/rcv.bat if using Windows to launch the GUI version of the Tabulator.
You can also run the Tabulator from the command line by including the flag "-cli" and then supplying a path to an existing config file, e.g.:
$ rcv -cli path/to/config
Finally, you can activate a special "convert-to-cdf" function via the command line to export the CVR as a CDF JSON instead of tabulating the results, e.g.:
$ rcv -cli path/to/config convert-to-cdf

## Loading and Tabulating a Contest:

The Tabulator includes several example contest configuration files and associated cast vote record files.
Click "Load..." at the top of the window and browse into the "test_data" folder under src/test/resources.
Browse into one of the folders listed here and select the corresponding file that ends with "_config.json".
Click on the configuration tabs (Output, CVR Files, Candidates, Rules) to see how this contest is configured.
Click "Validate" to check if this configuration is valid.  You will see the results in the black console area at the bottom of the main window.
Click "Tabulate" to tabulate the election.  You will see the results in the console, including the location and names of output files.

## Viewing Tabulator outputs:

Tabulator output file names automatically include the current date and time, e.g. 2018-09-09_15-34-00_summary.xlsx.  This keeps them separate if you tabulate the same contest multiple times.
Look in the console window to see where the output spreadsheet was written, e.g.
2018-09-09 18:55:53 PDT INFO: Generating summary spreadsheet: /Users/Me/Documents/rcv/test_output/2018_maine_gov_primary_dem/2018-09-09_18-55-33_summary.xlsx
Double-click on the summary spreadsheet to open it.  You may have to install OpenOffice (or some other Excel file reader) first:
	https://www.openoffice.org/download/ 
Find the audit log file and double-click on it to open it.  It is a standard text file and can be displayed with any kind of text editor.
